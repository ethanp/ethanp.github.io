
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>With Pith</title>
  <meta name="author" content="Ethan Petuchowski">

  
  <meta name="description" content="I met someone at a hack night worked for Akamai. He was a cool dude, so I was
curious what Akamai does. For whatever reason I ended up reading a &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ethanp.github.io/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="With Pith" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">With Pith</a></h1>
  
    <h2>Ethan Petuchowski</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ethanp.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/portfolio">Portfolio</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/10/what-akamai-does/">What Akamai Does</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-06-10T19:23:31-07:00" pubdate data-updated="true">Jun 10<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I met someone at a hack night worked for Akamai. He was a cool dude, so I was
curious what Akamai does. For whatever reason I ended up reading a paper cited
as so:</p>

<blockquote><p>Nygren, Erik, Ramesh K. Sitaraman, and Jennifer Sun. “The akamai network: a
platform for high-performance internet applications.” ACM SIGOPS Operating
Systems Review 44.3 (2010): 2–19.</p></blockquote>

<p>For whatever reason, everything I know about Akamai is from this paper. I&rsquo;m not
in any way afiliated with Akamai, etc., though the paper is basically a badly
designed advertising pamphlet for their services. A small number of sentences
in this summary may have been lifted directly from that paper. You can consider
this whole post a paraphrasing of the paper. <strong>The intent of this post is to
tell you everything important that I learned from the paper</strong> in a form that is
<em>way</em> easier to digest than you reading the paper itself. To that end, this
document is maybe 2 pages long, and the original is 17. Clearly much of the
detail has been removed, but the gist remains. If that appeals to you, welcome
aboard! Note that the paper is from 2010, so is probably already out of date.</p>

<h2>Introduction</h2>

<p>Akamai invented the <em>Content Delivery Network</em> (CDN) concept in the 1990s,
because the raw naive Internet implementation is too slow to conduct a global
business. As of 2010, Akamai delivers 15-20% of global Web traffic.</p>

<h3>The Interwebs is a dangerous place</h3>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/06/10/what-akamai-does/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/08/brief-overview-of-garbage-collection-in-the-hotspot-jvm/">Brief Overview of Garbage Collection in the HotSpot JVM</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-06-08T18:50:33-07:00" pubdate data-updated="true">Jun 8<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Disclaimer:</strong> This post only claims to represent my <em>current understanding</em>
of the workings of the HotSpot VM&rsquo;s garbage collector. This understanding comes
from reading the <em>references</em> listed below, as well as making some assumptions.
It is not necessarily fully correct.</p>

<h3>Brief Overview</h3>

<p><strong>The garbage collector <em>separates the heap into 5 sections of 4 types</em>.</strong> I
don&rsquo;t know whether these spaces are &ldquo;virtual&rdquo; (i.e. remapped to discontiguous
&ldquo;pages&rdquo; like Linux&rsquo;s <em>virtual memory addresses</em>) or not. I suspect they are
<em>not</em>.</p>

<ol>
<li><strong>Eden</strong> &mdash; where objects go when they&rsquo;re first allocated in the running
program</li>
<li><strong>Survivors 1 &amp; 2</strong> a.k.a. &ldquo;young space&rdquo; &mdash; objects in Eden are moved here
if they survive a minor (&ldquo;young&rdquo;) GC</li>
<li><strong>Tenured</strong> (a.k.a. <strong>Old</strong>) &mdash; long-lived objects (that have survived [a
configurable number of] minor GCs) are moved and then live in here

<ul>
<li>We can tell the JVM to allocate all objects larger than <code>n</code> bytes
directly into the <em>old</em> space.</li>
</ul>
</li>
<li><strong>Permanent</strong> &mdash; this is where the JVM&rsquo;s own objects live (e.g. classes and
JITed code). It behaves just like the <em>tenured</em> space.</li>
</ol>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/06/08/brief-overview-of-garbage-collection-in-the-hotspot-jvm/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/29/summary-of-the-log/">Summary of &#8216;the Log&#8217;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-29T20:57:16-07:00" pubdate data-updated="true">May 29<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I read a great article by Jay Kreps, one of the dudes who brought you Apache
Kafka. The article is called <a href="http://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying"><strong>The Log</strong>: What every software engineer should know about real-time data&rsquo;s unifying abstraction</a>. The
article took me a few hours of mildly challenging reading, so I figure you can
spend a few minutes reading my summary and decide more clearly whether you want
to put in the investment of his explanation.</p>

<p>First, he describes the following concept: Let&rsquo;s define a <strong>log</strong> as a <em>total
order</em> of functions called and the parameters passed to each of those function-
calls. Let&rsquo;s define a <em>&ldquo;commit log&rdquo;</em> as a <em>log</em> of edits of the contents of a
database. Kreps notes that we can use a commmit log to build the state of a
database at any point in history. This is like <code>git</code>; as we patch in each
commit, we obtain the state of the repo at each time. If we feed the same log
to the same program on multiple machines in a cluster, (assuming none of the
functions called are <em>non- deterministic</em> and machines behave as we expect), we
will certainly have the same state on each machine after they have each
executed the log. This would be desireable perhaps to provide a &ldquo;reliable&rdquo;
<em>service</em> for which there are more reads than writes, and more reads than can
be handled by one node; then we can ensure any node is OK to read from by
having all nodes play functions as prescribed by the log.</p>

<p>Then, he describes the following situation: getting every part of a tech-
company&rsquo;s data to every service that needs it is very complicated. In the worst
and most naive case it would be <em>N<sup>2</sup></em> because each of <em>N</em> places would be sending
data to each of <em>N</em> places. That&rsquo;s a lot of network bandwidth, and complexity,
and data formats to understand, and places for things to screw up. So Kreps
suggests</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/05/29/summary-of-the-log/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/18/paxos-as-a-classroom/">Paxos as a Classroom</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-18T17:28:49-07:00" pubdate data-updated="true">May 18<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><pre><code>multi-paxos as a classroom:
teacher := proposer
students := acceptors
all := learners

teacher to students:
    may I have your attention for the next 1:15 hrs?
    I'd like to teach youz guys all about "the paxos protocol"
    here is what I'm assuming you already know

each student to teacher:
    if not already busy for that time:
        yes, here's how much I actually already know about paxos
    else:
        my apologies, but I will be busy skimming facebook for the next 1:15
        so if there's something you want to tell me, post it on there

teacher to each student:
    given how far behind you are, these are the things you need to catch up on
    but also this is what I'm teaching now

each (alive &amp; correct) student to teacher:
    oh very cool!
    this is how much I now understand of all the stuff you've said

teacher:
    if the majority understands more than before:
        set new start point for next time's lesson
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/18/simulating-a-distributed-system/">Simulating a Distributed System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-18T17:24:37-07:00" pubdate data-updated="true">May 18<span>th</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For my Distributed Computing class at school, there were 3 projects that each
involved implementing a distributed protocol over a simulated distributed
cluster of computers that are only &lsquo;connected&rsquo; to one another in that they know
each other&rsquo;s IP address and must communicate over TCP sockets. For each of the
3 projects, I had a <em>completely</em> different method of implementing the system.</p>

<h3>Implementation One: A True Distributed System in Vanilla Java</h3>

<p>The first project (Three Phase Commit) was the only one for which I worked with
a partner. We were unclear how to attack the problem of building a distributed
system in a simple way, so we went ahead and implemented a truly distributable
Java application, in which you could spin up processes on any computer and it
would connect in to the master server, who would tell the new node the
listening ports of other servers in the cluster manually, etc. This turned out
to be perhaps overly ambitious. When a node was expecting a message from
someone else, it would fire a timer thread, which on completion would report to
the master to restart the failed process. This system did work properly
(somehow) but it seemed to be living-on-the-edge. It also required two weeks of
a lot of working on it and learning aspects of Java, unit testing, mocks, which
<code>Exception</code> would get thrown by which network event &amp; when, etc.</p>

<h3>Implementation Two: Lightweight System Simulation</h3>

<p>For the second project (Paxos), I said &ldquo;Hooey&rdquo; to all the Java hubbub, which
while I enjoyed its low-level-ness, forcing me to peak further under the hood,
it required a larger time commitment than I was prepared to make. I realized
that my class&rsquo;s requirements only specified that system &ldquo;nodes&rdquo; run
concurrently, share no memory, and talk over TCP. So in Scala, I made a <code>Node</code>
class state machine, and ran different instances of it on separate threads.
This was too easy though, and I was disappointed to find my implementation
complete more than two weeks before the due date.</p>

<h3>Implementation Three: Akka Cluster</h3>

<p>Akka Cluster is a Scala-based framework for building a distributed system, in
which you define the address of a set of &ldquo;seed&rdquo; nodes, of whom at least one is
supposed be available at all times. Then when other nodes start up, they become
a &ldquo;member&rdquo; of the cluster by contacting any seed node. So for me (the &ldquo;client&rdquo;
of Akka Cluster), all there is left to do is define the protocol to run on top
of the cluster. (In this case the protocol was the simple eventually-consistent
database protocol &ldquo;Bayou&rdquo;.)</p>

<p>Akka nodes follow the &ldquo;Actor Model&rdquo;, meaning they share no state with any other
part of your program, making them &ldquo;simple&rdquo; to run on remote machines (I didn&rsquo;t
try that, the docs say it is easy though). The only way actors can communicate
is via message passing, for which there is a dedicated syntax, <code>!</code>. For
example:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">case</span> <span class="k">class</span> <span class="nc">MyMessage</span><span class="o">(</span><span class="n">data</span><span class="k">:</span> <span class="kt">DataElem</span><span class="o">)</span>
</span><span class='line'><span class="n">anotherActor</span> <span class="o">!</span> <span class="nc">MyMessage</span><span class="o">(</span><span class="n">theData</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>The code above would have the actor running this code, send <code>anotherActor</code> an
instance of the case class <code>MyMessage</code> with the <code>DataElem</code> that was passed in.</p>

<p>Inter-actor communcation is guaranteed <em>FIFO</em> by Akka, meaning that for any
pair of actors <code>A, B</code>, if <code>A</code> sends <code>n</code> messages to <code>B</code>, <code>B</code> will receive those
messages in the same order that <code>A</code> sent them. NB this says nothing about the
order with respect to other actors in the system.</p>

<p>Using Akka trivialized all sorts of implementation details I&rsquo;d had to worry
about in the first project, and then ignored for the second project.</p>

<p>If there had been a 4th project for this class, it&rsquo;s clear to me that I would
use Akka again. For some reason my code ran <em>very</em> slowly, and it probably had
to do with some configuration-setting that I did not set in the Akka config
file. That was really the only problem I had that I did not fix. One problem I
did fix that took a while, was figuring out a good way to shut the system down.
There were various options discussed online, and eventually I found one that
worked for me, which was to call <code>system.shutdown()</code> on every instance System I
instantiate. Another option was to send <code>self ! PoisonPill</code> but for some reason
that didn&rsquo;t work. I guess different ones work for different situations.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/03/asynchronous-system/">Asynchronous System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-03T19:27:36-07:00" pubdate data-updated="true">May 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Before taking a Distributed Computing course at school, I had written for
various program environments:</p>

<ol>
<li>a script that trains a neural network to recognize whether an English
sentence is grammatical</li>
<li>an iOS app that involves a fair bit of multi-threading</li>
<li>a command line interpreter that forks and runs commands as background
processes</li>
<li>the Raft distributed consensus protocol inside a professor’s multi-threaded
distributed system simulator</li>
<li>some asynchronous features for a simplified database system where threads
communicate solely via Java’s <code>PipedInputStreams</code> instead of using shared
variables</li>
</ol>


<p>Perhaps you are familiar with these situations, and like me thought they might
be “distributed”. Reality check: they’re not. Similarly, in a distributed
system, one has multiple “threads” processing data at once. However,
these “threads” may be each on different machines; this adds some complexity.
None of the situations outlined above have the sort of issues one can expect
fairly regularly when talking amongst machines.</p>

<h3>Different machines don’t share</h3>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/05/03/asynchronous-system/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/03/intro-to-distributed-computing/">Intro to Distributed Computing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-03T19:18:38-07:00" pubdate data-updated="true">May 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This semester I have been taking Distributed Computing with Professor Lorenzo
Alvisi. Distributed computing has been something I have been curious about for
a long time, and aside from writing some MapReduce jobs during a summer
internship 2 summers ago, I had no real experience thinking about distributed
systems. The class was very enjoyable.</p>

<p>The main lesson was that <strong>distributed systems are very flaky places</strong>, but you
can arrive at some <strong>surpringly simple solutions</strong> to most of the problems once
you find a better way of expressing what you really want. The other main lesson
was that <strong>finding a better way of expressing what you really want can be a
confusing</strong> thing to do.</p>

<h2>Scenario 1: “Two Generals’ Problem”</h2>

<p>Persons 1 and 2 would like to be sure that both agreed on a time to
meet, but neither can tell whether the other is listening to what is being
said.</p>

<blockquote><p>Person 1: Let’s meet up at 2:00pm</p></blockquote>

<p>Now person 1 doesn’t know whether person 2 was listening though. So person 2
feels compelled to respond (while still multi-tasking).</p>

<blockquote><p>Person 2: Yeah</p></blockquote>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/05/03/intro-to-distributed-computing/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/29/python-class-equivalence/">Python Class Equivalence</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-29T17:32:24-07:00" pubdate data-updated="true">Jun 29<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2><code>vars(self) == vars(other)</code>, it seems too easy</h2>

<p>I implemented a class</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">123</span>
</span><span class='line'>        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">436</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then when I created two equivalent instances and compared them, I got false.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/06/29/python-class-equivalence/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/23/java-inheritance-issue/">Java Inheritance</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-23T14:06:59-07:00" pubdate data-updated="true">May 23<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I spent quite a while struggling with the Java class declaration syntax, and
now I am starting to get it.</p>

<h3>Problem simplification</h3>

<p>I started out writing this post because I was <em>totally right</em> and the Java
compiler was <em>wrong</em>, and so on, but now I have cleared it up and I was wrong
and the compiler was right after all (surprise!). I was initially intending to
use this post as a way of getting satisfaction out of how much smarter I am
than the compiler, and instead I will use this space to explain to the next
how to answer similar questions. I started by <em>heavily</em> simplifying my issue
down to its core, and attacking the simplified problem instead of the original
one with extraneous variables and interconnections. I&rsquo;ve never approached a
programming problem like that, and let me tell you: seems like it worked. By a
twist of fate, the new version looks like a LinkedList, that&rsquo;s not what I
started out doing, but who knows what&rsquo;ll happen when you keep smushing the
problem from a larger context into a little jar.</p>

<p>First, we have a <code>Base</code>, which holds an element <code>elem</code> of any type, and a
reference to another <code>Base</code>, quite like a <em>linked list</em>.</p>

<figure class='code'><figcaption><span>Base.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">T</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="n">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Base</span><span class="o">(</span><span class="n">T</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">elem</span> <span class="o">=</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next, we have an <code>Ord</code>, which is a <code>Base</code> that is <code>Comparable</code>. We require
that the element contained by an <code>Ord</code> is itself comparable, and furthermore
that the method of comparing <code>Ord</code>s is to compare their respective <code>elem</code>s:</p>

<figure class='code'><figcaption><span>Ord.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Ord</span><span class="o">&lt;</span><span class="n">U</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="n">Base</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">(</span><span class="n">U</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">(</span><span class="n">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This works fine, but note the following limitation:</p>

<figure class='code'><figcaption><span>main.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">4</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>         <span class="c1">// this works just fine</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// this does not work because a.next is of type Base&lt;Integer&gt;</span>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// this DOES work though because a.elem is of type Integer which is Comparable</span>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>After writing and re-writing this blog post over and over, this makes sense
now. I used to be confused: &ldquo;shouldn&rsquo;t the compiler <em>know</em> that a.next is an
Ord<Integer>?&rdquo; And the answer is (now obvious) &ldquo;Of course not.&rdquo;</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/23/java-inheritance-issue/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/22/multimarkdown-to-latex/">Markdown to LaTeX</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-22T18:32:09-07:00" pubdate data-updated="true">May 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Installation guide for Mac OSX</h3>

<p>One day, I thought, &ldquo;Wouldn&rsquo;t it be nice to have a Markdown to LaTeX
converter.&rdquo; Theoretically, one could combine these two tools to quickly create
beautiful documents. That&rsquo;s how I found <a href="http://fletcherpenney.net/multimarkdown/">Multimarkdown</a> which is basically a
souped up version of regular markdown. The documentation made it sound like
this would be a breeze, but it actually took me way to long to get this to
work on my machine. So I made a step-by-step guide.</p>

<p>For the uninitiated, <a href="http://daringfireball.net/projects/markdown/">Markdown</a> is a simplified way of writing html markup.
If you don&rsquo;t know about it please check it out. It is in fact how this very
webpage was created.</p>

<p>Then today I had to install it all over again on a different computer. To
save my future self and you a lot of trouble, this time I noted what I did to get it to
work (Mac OSX only).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/22/multimarkdown-to-latex/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/27/asking-for-advice/">Asking for Advice</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/07/the-tone-makes-the-point/">The Tone Makes the Point</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/03/gamified-learning/">Gamified Learning</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/26/first-glimpse-of-compilers/">First Glimpse of Compilers</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/19/learning-vs-doing/">Learning vs Doing</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ethanp">@ethanp</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ethanp',
            count: 8,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Ethan Petuchowski -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
