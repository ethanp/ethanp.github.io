
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>With Pith</title>
  <meta name="author" content="Ethan Petuchowski">

  
  <meta name="description" content="Before taking a Distributed Computing course at school, I had written for
various program environments: a script that trains a neural network to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://ethanp.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="With Pith" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">With Pith</a></h1>
  
    <h2>Ethan Petuchowski</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:ethanp.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/portfolio">Portfolio</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/03/asynchronous-system/">Asynchronous System</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-03T21:27:36-05:00" pubdate data-updated="true">May 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Before taking a Distributed Computing course at school, I had written for
various program environments:</p>

<ol>
<li>a script that trains a neural network to recognize whether an English
sentence is grammatical</li>
<li>an iOS app that involves a fair bit of multi-threading</li>
<li>a command line interpreter that forks and runs commands as background
processes</li>
<li>the Raft distributed consensus protocol inside a professor’s multi-threaded
distributed system simulator</li>
<li>some asynchronous features for a simplified database system where threads
communicate via Java’s <code>PipedInputStreams</code></li>
</ol>


<p>Perhaps you are familiar with these situations, and thought they might be
“distributed”. Reality check: they’re not. Similarly, in a distributed system,
one wants to have multiple “threads” processing data at once. However, these
“threads” may be each on different machines; this adds some complexity. None of
the situations outlined above have the sort of issues one can expect fairly
regularly when talking amongst machines.</p>

<h3>Different machines don’t share</h3>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/05/03/asynchronous-system/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/05/03/intro-to-distributed-computing/">Intro to Distributed Computing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-05-03T21:18:38-05:00" pubdate data-updated="true">May 3<span>rd</span>, 2015</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This semester I have been taking Distributed Computing with Professor Lorenzo
Alvisi. Distributed computing has been something I have been curious about for
a long time, and aside from writing some MapReduce jobs during a summer
internship 2 summers ago, I had no real experience thinking about distributed
systems. The class was very enjoyable.</p>

<p>The main lesson was that <strong>distributed systems are very flaky places</strong>, but you
can arrive at some <strong>surpringly simple solutions</strong> to most of the problems once
you find a better way of expressing what you really want. The other main lesson
was that <strong>finding a better way of expressing what you really want can be a
confusing</strong> thing to do.</p>

<h2>Scenario 1: “Two Generals’ Problem”</h2>

<p>You and a partner would like to be sure that you have both agreed on a time to
meet, but neither of you can tell whether the other are listening to what
you’re saying.</p>

<blockquote><p>Person 1: Let’s meet up at 2:00pm</p></blockquote>

<p>Now person 1 doesn’t know whether person 2 was listening though. So person 2
feels compelled to respond (while still text-messaging).</p>

<blockquote><p>Person 2: Yeah</p></blockquote>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2015/05/03/intro-to-distributed-computing/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/29/python-class-equivalence/">Python Class Equivalence</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-29T19:32:24-05:00" pubdate data-updated="true">Jun 29<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2><code>vars(self) == vars(other)</code>, it seems too easy</h2>

<p>I implemented a class</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">A</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">123</span>
</span><span class='line'>        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">436</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then when I created two equivalent instances and compared them, I got false.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/06/29/python-class-equivalence/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/23/java-inheritance-issue/">Java Inheritance</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-23T16:06:59-05:00" pubdate data-updated="true">May 23<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I spent quite a while struggling with the Java class declaration syntax, and
now I am starting to get it.</p>

<h3>Problem simplification</h3>

<p>I started out writing this post because I was <em>totally right</em> and the Java
compiler was <em>wrong</em>, and so on, but now I have cleared it up and I was wrong
and the compiler was right after all (surprise!). I was initially intending to
use this post as a way of getting satisfaction out of how much smarter I am
than the compiler, and instead I will use this space to explain to the next
how to answer similar questions. I started by <em>heavily</em> simplifying my issue
down to its core, and attacking the simplified problem instead of the original
one with extraneous variables and interconnections. I&rsquo;ve never approached a
programming problem like that, and let me tell you: seems like it worked. By a
twist of fate, the new version looks like a LinkedList, that&rsquo;s not what I
started out doing, but who knows what&rsquo;ll happen when you keep smushing the
problem from a larger context into a little jar.</p>

<p>First, we have a <code>Base</code>, which holds an element <code>elem</code> of any type, and a
reference to another <code>Base</code>, quite like a <em>linked list</em>.</p>

<figure class='code'><figcaption><span>Base.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">T</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="n">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Base</span><span class="o">(</span><span class="n">T</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">elem</span> <span class="o">=</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>py
Next, we have an <code>Ord</code>, which is a <code>Base</code> that is <code>Comparable</code>. We require
that the element contained by an <code>Ord</code> is itself comparable, and furthermore
that the method of comparing <code>Ord</code>s is to compare their respective <code>elem</code>s:</p>

<figure class='code'><figcaption><span>Ord.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Ord</span><span class="o">&lt;</span><span class="n">U</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="n">Base</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">(</span><span class="n">U</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">(</span><span class="n">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>This works fine, but note the following limitation:</p>

<figure class='code'><figcaption><span>main.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">4</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>         <span class="c1">// this works just fine</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// this does not work because a.next is of type Base&lt;Integer&gt;</span>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// this DOES work though because a.elem is of type Integer which is Comparable</span>
</span><span class='line'>    <span class="n">a</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>After writing and re-writing this blog post over and over, this makes sense
now. I used to be confused: &ldquo;shouldn&rsquo;t the compiler <em>know</em> that a.next is an
Ord<Integer>?&rdquo; And the answer is (now obvious) &ldquo;Of course not.&rdquo; So I had the
following code, which I considered a &ldquo;workaround&rdquo;, where we inform the
compiler that <code>next</code> is an <code>Ord</code> not a <code>Base</code>.</p>

<figure class='code'><figcaption><span>Ord.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Ord</span><span class="o">&lt;</span><span class="n">U</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="n">Base</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span>
</span><span class='line'><span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">next</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Ord</span><span class="o">(</span><span class="n">U</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">(</span><span class="n">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>It is now quite clear that there is no way the compiler would know your
intention of having the <code>next</code> component of descendents of <code>Base</code> be (static)
instances of their own respective classes. In fact, I&rsquo;d bet most of the time
that&rsquo;s <em>not</em> what people want. But I was blind, and I believe I now see.</p>

<h2>Let&rsquo;s talk about Scala</h2>

<p>Here is the (rough) equivalent to <em>all of that</em> (second Java version) in Scala:</p>

<figure class='code'><figcaption><span>InheritanceTest.scala</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">class</span> <span class="nc">Base</span><span class="o">[</span><span class="kt">T</span><span class="o">](</span><span class="k">val</span> <span class="n">elem</span><span class="k">:</span> <span class="kt">T</span><span class="o">,</span> <span class="k">val</span> <span class="n">next</span><span class="k">:</span> <span class="kt">Base</span><span class="o">[</span><span class="kt">T</span><span class="o">])</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Ord</span><span class="o">[</span><span class="kt">U</span> <span class="k">&lt;%</span> <span class="kt">Ordered</span><span class="o">[</span><span class="kt">U</span><span class="o">]](</span><span class="k">override</span> <span class="k">val</span> <span class="n">elem</span><span class="k">:</span> <span class="kt">U</span><span class="o">,</span> <span class="k">override</span> <span class="k">val</span> <span class="n">next</span><span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">U</span><span class="o">])</span>
</span><span class='line'>                        <span class="k">extends</span> <span class="nc">Base</span><span class="o">[</span><span class="kt">U</span><span class="o">](</span><span class="n">elem</span><span class="o">,</span> <span class="n">next</span><span class="o">)</span> <span class="k">with</span> <span class="nc">Ordered</span><span class="o">[</span><span class="kt">Ord</span><span class="o">[</span><span class="kt">U</span><span class="o">]]</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">override</span> <span class="k">def</span> <span class="n">compare</span><span class="o">(</span><span class="n">that</span><span class="k">:</span> <span class="kt">Ord</span><span class="o">[</span><span class="kt">U</span><span class="o">])</span> <span class="k">=</span> <span class="k">this</span><span class="o">.</span><span class="n">elem</span> <span class="n">compare</span> <span class="n">that</span><span class="o">.</span><span class="n">elem</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">object</span> <span class="nc">Run</span> <span class="k">extends</span> <span class="nc">App</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">val</span> <span class="n">a</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Ord</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="kc">null</span><span class="o">)</span>
</span><span class='line'>  <span class="k">val</span> <span class="n">b</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Ord</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="kc">null</span><span class="o">)</span>
</span><span class='line'>  <span class="n">println</span><span class="o">(</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="o">)</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The funny thing about this Scala version is that Intellij actually indicates a
compiler error, but SBT is quite happy to (correctly) compile it and produce a
result. This is one of those <em>opportunities</em> to spend forever looking for the
reason it won&rsquo;t compile, only to find that it compiles just fine.</p>

<p>Note that in the Scala version we were forced to say <code>override</code>, which is
<em>great</em> because in Java there is no indication that this is an overriden
field, and no resulting check of whether the override was successful. Of
course, in this example, no big deal. But what if there were a bunch of
instance variables that needed to be overridden, and they were private with
getters and setters, and split across multiple classes, etc.?</p>

<p>The other thing is that in the Scala version we must use a &ldquo;view bound&rdquo; <code>&lt;%</code>
rather than my first thought, an &ldquo;upper type bound&rdquo; <code>&lt;:</code>. (I put the English
names of those operators so you can google them. Good luck googling <code>&lt;:</code>
alone!) In any case, it seems to me that <code>[A &lt;: B]</code> means that <code>&lt;A extends B&gt;</code>, while
<code>[A &lt;% B]</code> means that <em>either</em> <code>[A &lt;: B]</code> <em>or</em> <code>A</code> has some implicit conversion defined to some type <code>C</code> s.t. <code>[C &lt;: B]</code>, though I&rsquo;m not 100% about that. In our Scala example above <code>&lt;%</code> is necessary because (for example) it is <strong>not</strong> the case that <code>[Int &lt;: Seq[Int]]</code>
<a href="http://stackoverflow.com/questions/16001010/why-does-int-not-inherit-extend-from-orderedint">because Int has a primitive represenation</a>.</p>

<h2>Extravagant insight</h2>

<p>So in response to my confused pleas for &ldquo;a clean solution&rdquo; (before my epiphany
for why-it-must-be-so) my roommate came up with a clever scheme to configure
the type of the <code>next</code> pointer within the class declaration:</p>

<figure class='code'><figcaption><span>Base.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Base</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">E</span> <span class="kd">extends</span> <span class="n">Base</span><span class="o">&gt;</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">T</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="n">E</span> <span class="n">next</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">Base</span><span class="o">(</span><span class="n">T</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">this</span><span class="o">.</span><span class="na">elem</span> <span class="o">=</span> <span class="n">elem</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>Ord.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">class</span> <span class="nc">Ord</span><span class="o">&lt;</span><span class="n">U</span> <span class="kd">extends</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span> <span class="kd">extends</span> <span class="n">Base</span><span class="o">&lt;</span><span class="n">U</span><span class="o">,</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span>
</span><span class='line'>                            <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;&gt;</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Ord</span><span class="o">(</span><span class="n">U</span> <span class="n">elem</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="kd">super</span><span class="o">(</span><span class="n">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Ord</span><span class="o">&lt;</span><span class="n">U</span><span class="o">&gt;</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">o</span><span class="o">.</span><span class="na">elem</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'>        <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">b</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ord</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="mi">4</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// still works, as before</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">a</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">b</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// NOW WORKS, before it didn&#39;t!</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">));</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// still works, as before</span>
</span><span class='line'>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">elem</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">next</span><span class="o">.</span><span class="na">elem</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>For whatever reason, when we put it into my existing code it didn&rsquo;t work and
we were both totally confused because it makes perfect sense. But now, when I
put it into my way simplified version, it works! So his idea just went from
being &ldquo;just clever&rdquo; to being &ldquo;applicably awesome&rdquo;.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/22/multimarkdown-to-latex/">Markdown to LaTeX</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-22T20:32:09-05:00" pubdate data-updated="true">May 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Installation guide for Mac OSX</h3>

<p>One day, I thought, &ldquo;Wouldn&rsquo;t it be nice to have a Markdown to LaTeX
converter.&rdquo; Theoretically, one could combine these two tools to quickly create
beautiful documents. That&rsquo;s how I found <a href="http://fletcherpenney.net/multimarkdown/">Multimarkdown</a> which is basically a
souped up version of regular markdown. The documentation made it sound like
this would be a breeze, but it actually took me way to long to get this to
work on my machine. So I made a step-by-step guide.</p>

<p>For the uninitiated, <a href="http://daringfireball.net/projects/markdown/">Markdown</a> is a simplified way of writing html markup.
If you don&rsquo;t know about it please check it out. It is in fact how this very
webpage was created.</p>

<p>Then today I had to install it all over again on a different computer. To
save my future self and you a lot of trouble, this time I noted what I did to get it to
work (Mac OSX only).</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/22/multimarkdown-to-latex/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/16/scala-union-beauty/">A Functional Union of Two Sets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-16T21:01:58-05:00" pubdate data-updated="true">May 16<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;m in the 3rd week of <a href="http://www.coursera.org/course/progfun">Functional Programming Principles in Scala</a>
course on Coursera, taught by Martin Odersky, the creator of Scala. The class
has been surprisingly awesome so far, but one thing above all struck me as
impossible: the &ldquo;functional&rdquo; implementation of the <em>union</em> of two immutable
binary search trees.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='scala'><span class='line'><span class="k">def</span> <span class="n">union</span><span class="o">(</span><span class="n">other</span><span class="k">:</span> <span class="kt">IntSet</span><span class="o">)</span> <span class="k">=</span> <span class="o">((</span><span class="n">left</span> <span class="n">union</span> <span class="n">right</span><span class="o">)</span> <span class="n">union</span> <span class="n">other</span><span class="o">)</span> <span class="n">incl</span> <span class="n">elem</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong><em>WWWHHAATTT??</em></strong></p>

<p>After an intensive investigation, I eventually determined that this operation
performs what I&rsquo;m calling a <em>&lsquo;post-order insertion&rsquo;</em> of the elements of <code>this</code>
(non-empty) <code>IntSet</code> into <code>other</code>.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/16/scala-union-beauty/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/14/octopress/">Octopress</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-14T20:00:02-05:00" pubdate data-updated="true">May 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Introduction</h3>

<p>My hope is that this website shall become a place where stuff I&rsquo;ve been up to
and thinking about gets documented. The plan is for it to also have tutorials
on how to do things, especially if I could not find a good explanation for
myself. I&rsquo;m a man of few words, so it may start out a little forced and
certainly not well written; that&rsquo;s okay though.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/05/14/octopress/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/05/03/asynchronous-system/">Asynchronous System</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/03/intro-to-distributed-computing/">Intro to Distributed Computing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/29/python-class-equivalence/">Python Class Equivalence</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/23/java-inheritance-issue/">Java Inheritance</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/22/multimarkdown-to-latex/">Markdown to LaTeX</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/ethanp">@ethanp</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'ethanp',
            count: 8,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Ethan Petuchowski -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
